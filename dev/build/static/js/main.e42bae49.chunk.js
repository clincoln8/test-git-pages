(this["webpackJsonpmcf-browser"]=this["webpackJsonpmcf-browser"]||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},13:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);n(13);var r=n(0),a=n.n(r),s=n(10),i=n.n(s),c=n(4),l=n(5),o=n(7),u=n(6),d=(n(8),n(1)),h=n.n(d),p=n(3),f=n(2),m="https://api.datacommons.org",v="error in declaring node",b="invalid namespace in node declaration",E="current node must be set before setting dcid",y="a node can only have one dcid",N="dcid property must be a string, not a node reference",g="cannot set dcid for current node; check if dcid is already set",k="current node must be set before declaring properties",w="missing ':', incorrect mcf triple format",j="missing property label",O="missing property value";function x(e){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m+"/node/property-labels?dcids="+t,e.abrupt("return",fetch(n).then((function(e){return e.json()})).then((function(e){return JSON.parse(e.payload)[t]})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(h.a.mark((function e(t,n,r){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m+"/node/property-values?limit=500&dcids="+t+"&property="+n+"&direction="+(r?"in":"out"),e.abrupt("return",fetch(a).then((function(e){return e.json()})).then((function(e){return JSON.parse(e.payload)[t]})).then((function(e){return r?e.in:e.out})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){if(!("dcid"in e)&&!("value"in e))throw new Error('ERROR: DC API returned an object with no "dcid" or "value" field: '+e);if("dcid"in e){var t=A.getNode("dcid:"+e.dcid);return t.setDCID(e.dcid),t.existsInKG=!0,t}return e.value}function D(e){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m+"/node/triples?dcids="+t+"&limit=1",e.abrupt("return",fetch(n).then((function(e){return e.json()})).then((function(e){return!!JSON.parse(e.payload)[t]})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return!e.startsWith("//")&&0!==e.length&&!e.startsWith("#")}var A=function(){function e(t){Object(c.a)(this,e),this.localId=t.startsWith("l:")?t:null,this.dcid=null,this.alreadyFetched=!1,this.existsInKG=!1,this.assertions=[],this.invAssertions=[],e.nodeHash[t]=this}return Object(l.a)(e,[{key:"setDCID",value:function(t){if(this.dcid&&this.dcid!==t)return!1;var n=e.nodeHash["dcid:"+t];return n&&n!==this&&this.mergeNode(n),this.dcid=t,e.nodeHash["dcid:"+t]=this,!0}},{key:"mergeNode",value:function(e){var t=this;this.localId!==e.localId&&(e.assertions.forEach((function(e){e.src=t,t.assertions.push(e)})),e.invAssertions.forEach((function(e){e.target=t,t.invAssertions.push(e)})))}},{key:"setExistsInKG",value:function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dcid&&!this.existsInKG){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,D(this.dcid);case 4:this.existsInKG=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createAssertionsFromLabels",value:function(){var t=Object(f.a)(h.a.mark((function t(n,r){var a,s,i,c=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(p.a)(n),t.prev=1,i=h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.value,t.next=3,L(c.dcid,n,r).then((function(t){if(!t)throw new Error("No property values for dcid: "+c.dcid+" label: "+n);t.forEach((function(t){var a=I(t);if(r&&!e.isNode(a))throw new Error("Error creating assertion with non Node source");var s=r?a:c,i=r?c:a;e.isNode(a)&&a.alreadyFetched||new H(s,n,i,t.provenanceId)}))}));case 3:case"end":return t.stop()}}),t)})),a.s();case 4:if((s=a.n()).done){t.next=8;break}return t.delegateYield(i(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),a.e(t.t1);case 13:return t.prev=13,a.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fetchRemoteData",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.alreadyFetched&&this.dcid){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(this.dcid).then(function(){var e=Object(f.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createAssertionsFromLabels(n.outLabels,!1);case 2:return e.next=4,t.createAssertionsFromLabels(n.inLabels,!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:this.alreadyFetched=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRef",value:function(){var e=this.dcid?this.dcid:"",t="";return this.localId&&!this.localId.includes("dcid")&&(t="["+this.localId+"]"),[e,t].join(" ").trim()}}],[{key:"getNode",value:function(t){var n=e.nodeHash[t];return n||new e(t)}},{key:"isNode",value:function(t){return t instanceof e}}]),e}();A.nodeHash={};var H=function e(t,n,r,a){Object(c.a)(this,e),this.src=t,this.property=n,this.provenance=a,this.target=r,t.assertions.push(this),r instanceof Object&&r.invAssertions.push(this)},P={l:"l",schema:"dcid",dcs:"dcid",dcid:"dcid"},M=function(){function e(t){Object(c.a)(this,e),this.prov=t,this.curNode=null,this.lineNum=-1,this.errors=[]}return Object(l.a)(e,[{key:"parsePropValues",value:function(e){var t,n=[],r=Object(p.a)(e.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/));try{for(r.s();!(t=r.n()).done;){var a=t.value,s=a.split(":")[0].trim();if(s in P)n.push({ns:s,ref:a.substring(a.indexOf(":")+1).trim()});else{if(a.split(":").length>1&&!s.startsWith('"'))return this.errors.push([this.lineNum,this.line,"unrecognized namespace"]),[];n.push(a.replace(/^[" ]*(.*?)[" ]*$/g,"$1"))}}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"setCurNode",value:function(t){if(1===t.length){var n=t[0],r="";if(t[0]instanceof Object){if("dcid"!==(r=t[0].ns))return void this.errors.push([this.lineNum,this.line,b]);r+=":",n=t[0].ref}var a="l:"+r+n;this.curNode=A.getNode(a),"dcid:"===r?(this.curNode.setDCID(n),e.localNodeHash[r+n]=this.curNode):e.localNodeHash[a]=this.curNode}else this.errors.push([this.lineNum,this.line,v])}},{key:"setCurNodeDCID",value:function(e){this.curNode?1===e.length?"string"===typeof e[0]?this.curNode.setDCID(e[0])||this.errors.push([this.lineNum,this.line,g]):this.errors.push([this.lineNum,this.line,N]):this.errors.push([this.lineNum,this.line,y]):this.errors.push([this.lineNum,this.line,E])}},{key:"createAssertionsFromParsedValues",value:function(e,t){if(this.curNode){var n,r=Object(p.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value,s=a;a instanceof Object&&(s=A.getNode(P[a.ns]+":"+a.ref),"dcid"===P[a.ns]&&(s.setDCID(a.ref)||this.errors.push([this.lineNum,this.line,g]))),new H(this.curNode,e,s,this.prov)}}catch(i){r.e(i)}finally{r.f()}}else this.errors.push([this.lineNum,this.line,k])}},{key:"parseLine",value:function(e){if(R(e=e.trim()))if(e.includes(":")){var t=e.split(":",1)[0].trim(),n=e.substring(e.indexOf(":")+1);if(t)if(n){var r=this.parsePropValues(n);switch(t){case"Node":this.setCurNode(r);break;case"dcid":this.setCurNodeDCID(r);break;default:this.createAssertionsFromParsedValues(t,r)}}else this.errors.push([this.lineNum,this.line,O]);else this.errors.push([this.lineNum,this.line,j])}else this.errors.push([this.lineNum,this.line,w])}},{key:"parseMcfStr",value:function(t){var n=this,r=t.split("\n");return this.lineNum=1,r.forEach((function(e){n.line=e,n.parseLine(e),n.lineNum++})),{localNodes:Object.keys(e.localNodeHash),errMsgs:this.errors}}}],[{key:"readFile",value:function(t){var n=new FileReader;return n.readAsText(t),new Promise((function(r,a){n.addEventListener("loadend",(function(a){var s=new e(t.name);r(s.parseMcfStr(n.result))})),n.addEventListener("error",a)}))}}]),e}();M.localNodeHash={};var G=n(11);function K(e){return e.includes("->")?e.split("->")[1]:null}function T(e){var t=e.match("E:(.*)->(.*)");return t?t[0]:null}function U(e,t){return e?e.replace("->","_").replace("E:","")+"_R"+t:null}function V(e,t,n){var r,a=[],s=Object(p.a)(e.split(","));try{for(s.s();!(r=s.n()).done;){var i=r.value,c=i,l=T(i);if(l){var o="l:"+U(l,n);c=c.replace(l,o)}else{var u=K(i);c=c.replace(/C:(.*)->(.*)/,t[u])}a.push(c)}}catch(d){s.e(d)}finally{s.f()}return a.join(",")}function W(e,t,n){var r,a=[],s=Object(p.a)(e.split("\n"));try{for(s.s();!(r=s.n()).done;){var i=r.value;if(i.trim()){if(R(i)){var c=i.split(":")[0].trim(),l=i.replace(c+":","").trim();if("Node"===c){if(l.includes(","))throw new Error("cannot have multiple ids for Node declaration");var o=l,u=T(l);u&&(o=U(u,n)),a.push(c+": "+o)}else{var d=V(l,t,n);a.push(c+": "+d)}}}else a.push("")}}catch(h){s.e(h)}finally{s.f()}return a.join("\n")}function J(e,t){var n,r=1,a=[],s=Object(p.a)(t);try{for(s.s();!(n=s.n()).done;){var i=n.value;a.push(W(e,i,r)),r+=1}}catch(c){s.e(c)}finally{s.f()}return a.join("\n")}function $(e,t){return q.apply(this,arguments)}function q(){return(q=Object(f.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FileReader).readAsText(n),e.abrupt("return",new Promise((function(e,a){r.addEventListener("loadend",(function(a){G().fromString(r.result).then((function(r){console.log("csvFile: "+n.name);var a=J(t,r);e(a)}))})),r.addEventListener("error",a)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return z.apply(this,arguments)}function z(){return(z=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FileReader).readAsText(t),e.abrupt("return",new Promise((function(e,t){n.addEventListener("loadend",(function(t){e(n.result)})),n.addEventListener("error",t)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return X.apply(this,arguments)}function X(){return(X=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_(t).then((function(e){return $(e,n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(f.a)(h.a.mark((function e(t){var n,r,a,s,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(p.a)(t);try{for(s.s();!(i=s.n()).done;)(c=i.value).name.endsWith(".tmcf")?n=c:c.name.endsWith(".csv")?r=c:a=c}catch(l){s.e(l)}finally{s.f()}if(!a){e.next=4;break}return e.abrupt("return",M.readFile(a));case 4:if(!n||!r){e.next=6;break}return e.abrupt("return",B(n,r).then((function(e){return console.log(e),new M(n.name+"&"+r.name).parseMcfStr(e)})));case 6:return e.abrupt("return",{errMsgs:[],localNodes:[]});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){var n=A.getNode(e);return t&&n.setDCID(e.replace("dcid:","")),console.log(M.localNodeHash[e]),console.log("retrieve"),console.log(n),n}function Z(e){return A.isNode(e)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(!t.existsInKG){e.next=4;break}return e.abrupt("return","blue");case 4:return e.abrupt("return",t.setExistsInKG().then((function(){return t.existsInKG?"blue":!t.dcid&&t.localId&&t.localId in M.localNodeHash?"purple":t.dcid||t.localId in M.localNodeHash?"red":"orange"})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne="#";function re(e){e.includes(":")?window.location.hash=ne+"&id="+e:window.location.hash=ne+"&id=dcid:"+e}function ae(e){window.open(e)}function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z(t)){e.next=5;break}return e.next=3,ee(t);case 3:return n=e.sent,e.abrupt("return",a.a.createElement("td",null,a.a.createElement("p",{id:n,className:"clickable",onClick:function(){return re(t.localId||t.dcid)}},t.getRef())));case 5:return e.abrupt("return",a.a.createElement("td",null,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){e?re(t):ae(t)}function le(e,t,n){return oe.apply(this,arguments)}function oe(){return(oe=Object(f.a)(h.a.mark((function e(t,n,r){var s,i,c,l,o,u,d,f,m,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n?t.src:t.target,e.next=3,se(s);case 3:if(i=e.sent,l="black",o=t.provenance,u=a.a.createElement("p",{id:l,className:"clickable",onClick:function(){return ce(l,t.provenance)}},o),o.startsWith("https")){c="bold",l="",d=[],f=Object(p.a)(o.split("&"));try{for(f.s();!(m=f.n()).done;)v=m.value,d.push(v.split("/").pop())}catch(h){f.e(h)}finally{f.f()}u=a.a.createElement("p",{id:l,className:"clickable",onClick:function(){return ce(l,t.provenance)}},d[0]),d.length>1&&(u=a.a.createElement("div",null,a.a.createElement("p",{id:l,className:"clickable",onClick:function(){return ce(l,t.provenance.split("&")[0])}},d[0]),a.a.createElement("p",null,",","\xa0"),a.a.createElement("p",{id:l,className:"clickable",onClick:function(){return ce(l,t.provenance.split("&")[1])}},d[1])))}return e.abrupt("return",a.a.createElement("tr",{className:c,key:t.property+r},a.a.createElement("td",null,t.property),i,a.a.createElement("td",null,u)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(f.a)(h.a.mark((function e(t,n){var r,a,s,i,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=0,s=Object(p.a)(t),e.prev=3,s.s();case 5:if((i=s.n()).done){e.next=14;break}return c=i.value,e.next=9,le(c,n,a);case 9:l=e.sent,r.push(l),a+=1;case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),s.e(e.t0);case 19:return e.prev=19,s.f(),e.finish(19);case 22:return e.abrupt("return",r);case 23:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))).apply(this,arguments)}var de=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={tableRows:null,loading:!0},r}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;e.triples!==this.props.triples&&(this.setState({loading:!0}),function(e,t){return ue.apply(this,arguments)}(this.props.triples,this.props.inverse).then((function(e){t.setState({tableRows:e,loading:!1})})))}},{key:"render",value:function(){if(this.state.loading)return null;var e=this.props.inverse?a.a.createElement("tr",null,a.a.createElement("th",null,"Property"),a.a.createElement("th",null,"Source"),a.a.createElement("th",null,"Provenance")):a.a.createElement("tr",null,a.a.createElement("th",null,"Property"),a.a.createElement("th",null,"Target"),a.a.createElement("th",null,"Provenance"));return a.a.createElement("table",null,a.a.createElement("thead",null,e),a.a.createElement("tbody",null,this.state.tableRows))}}]),n}(r.Component),he=a.a.createElement("div",null,a.a.createElement("p",{className:"inline"},"|"),a.a.createElement("p",{className:"inline",id:"blue"},"Node has dcid that exists in DC KG"),a.a.createElement("p",{className:"inline"},"|"),a.a.createElement("p",{className:"inline",id:"purple"},"Node has resolved local reference and no dcid"),a.a.createElement("p",{className:"inline"},"|"),a.a.createElement("p",{className:"inline",id:"orange"},"Node has unresolved local reference and no dcid"),a.a.createElement("p",{className:"inline"},"|"),a.a.createElement("p",{className:"inline",id:"red"},"Default; Node has dcid which does not exist in DC KG"),a.a.createElement("p",{className:"inline"},"|")),pe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={ref:null,asserts:[],invAsserts:[],fetching:!0},console.log("display constructor"),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setNodeData()}},{key:"componentDidUpdate",value:function(e){e.node!==this.props.node&&this.setNodeData()}},{key:"setNodeData",value:function(){var e=this;console.log(this.props.node);var t=this.props.node;this.setState({ref:t.getRef(),fetching:!0,asserts:[],invAsserts:[]}),ee(t).then((function(t){return e.setState({elemId:t})})),t.fetchRemoteData().then((function(){e.setState({asserts:t.assertions,invAsserts:t.invAssertions,fetching:!1})}))}},{key:"render",value:function(){var e;return this.state.fetching&&(e=a.a.createElement("div",{className:"div-col"},a.a.createElement("br",null),a.a.createElement("div",{className:"loadingSpinner"}),a.a.createElement("h2",null,"...fetching triples..."))),a.a.createElement("div",null,he,a.a.createElement("br",null),a.a.createElement("h1",{className:"inline"},"Currently Viewing: "),a.a.createElement("h1",{className:"inline",id:this.state.elemId},this.state.ref),a.a.createElement("br",null),e,a.a.createElement("div",{className:"node"},a.a.createElement("h3",{id:"indent",className:"inline"},"Node Properties"),a.a.createElement("p",{className:"inline"}," - current node is source"),a.a.createElement("br",null),a.a.createElement(de,{triples:this.state.asserts,inverse:!1}),a.a.createElement("br",null),a.a.createElement("h3",{id:"indent",className:"inline"},"Incoming Properties from Other Nodes"),a.a.createElement("p",{className:"inline"}," - current node is target"),a.a.createElement("br",null),a.a.createElement(de,{triples:this.state.invAsserts,inverse:!0})))}}]),n}(r.Component),fe=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"handleSearch",value:function(e){var t;13===e.keyCode&&((t=e.target.value).includes(":")?window.location.hash=ne+"&search="+t:window.location.hash=ne+"&search=dcid:"+t)}},{key:"render",value:function(){return a.a.createElement("div",{className:"header"},a.a.createElement("button",{onClick:function(){return console.log(ne),void(window.location.hash=ne)}},"Return Home"),a.a.createElement("input",{type:"search",onKeyUp:this.handleSearch,placeholder:"Search id, use 'dcid:' namespace for remote lookup..."}))}}]),n}(r.Component),me=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={subjNodes:[],curNode:null,fileList:[],loading:null,fileHash:"",firstLoad:!0,searchErrMsg:"",parsingErrs:[]},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("hashchange",(function(){return e.handleHashChange()}),!1),this.state.firstLoad&&(console.log("first app load"),this.loadUrlFiles(),this.setState({firstLoad:!1}))}},{key:"loadUrlFiles",value:function(){var e=new URLSearchParams(window.location.hash.split("#")[1]),t=e.getAll("file");if(t.length)this.loadRemoteFiles(0,t),function(e){ne="#";var t,n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;ne+="&file="+r}}catch(a){n.e(a)}finally{n.f()}}(t);else{var n,r=e.get("id");console.log(r),r&&(n=Q(r,!0),this.setState({curNode:n}),console.log(n))}}},{key:"handleHashChange",value:function(){var e=new URLSearchParams(window.location.hash.split("#")[1]),t=e.get("id"),n=null;if(t&&(n=Q(t,!1)),!t){var r=e.get("search");n=null,r&&(n=Q(r,!0))}this.setState({curNode:n});var a=e.get("search");console.log(a);var s="";"noLocalFiles"===a?(console.log("errMsg"),s="Use dcid namespace if searching for remote node or load a file to search for a local id."):a&&(s="Error occured in search. Verify node you are trying to find."),this.setState({searchErrMsg:s})}},{key:"loadRemoteFiles",value:function(e,t){var n=this;if(e>=t.length)this.submitFileList();else{var r=new XMLHttpRequest;r.responseType="blob",r.open("GET",t[e]),console.log("loading: "+t[e]),r.onload=function(){console.log("finished loading"),console.log(r.response),r.response.name=t[e],console.log(r.response.name),n.setState({fileList:n.state.fileList.concat(r.response)}),n.loadRemoteFiles(e+1,t)},r.send()}}},{key:"submitFileList",value:function(){var e=this;this.setState({loading:a.a.createElement("div",null,a.a.createElement("div",{className:"loadingSpinner"}),a.a.createElement("h2",null,"...loading mcf..."))}),function(e){return Y.apply(this,arguments)}(this.state.fileList).then((function(t){console.log(t),e.setState({parsingErrs:t.errMsgs,subjNodes:t.localNodes,loading:null}),e.handleHashChange()}))}},{key:"onClearPress",value:function(){this.setState({subjNodes:[],fileList:[],loading:null}),A.nodeHash={},M.localNodeHash={},window.location.hash="#"}},{key:"render",value:function(){var e,t=this;return e=this.state.curNode?a.a.createElement(pe,{node:this.state.curNode}):a.a.createElement("div",{className:"Home"},a.a.createElement("h3",null,this.state.searchErrMsg),a.a.createElement("div",{className:"div-row"},a.a.createElement("div",{id:"curFiles"},a.a.createElement("h3",null,"Current Files:"),a.a.createElement("ul",null,this.state.fileList.map((function(e){return a.a.createElement("li",{className:"clickable",onClick:function(){return ae(e.name)},key:e.name},e.name)}))),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(){return t.onClearPress()}},"Clear"),a.a.createElement("br",null),this.state.parsingErrs.length?a.a.createElement("div",null,a.a.createElement("h3",null,"Parsing Errors:"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{id:"errorTable"},"Line Num"),a.a.createElement("th",{id:"errorTable"},"Line"),a.a.createElement("th",{id:"errorTable"},"Error Message"))),a.a.createElement("tbody",null,this.state.parsingErrs.map((function(e){return a.a.createElement("tr",{key:e[0]},a.a.createElement("td",null,e[0]),a.a.createElement("td",null,e[1]),a.a.createElement("td",null,e[2]))}))))):a.a.createElement("div",null,a.a.createElement("h3",null,"Subject Nodes:"),a.a.createElement("ul",null,this.state.subjNodes.map((function(e){return a.a.createElement("li",{className:"clickable",key:e,onClick:function(){return re(e)}},e)})))),this.state.loading),a.a.createElement("div",{id:"uploadFiles"},a.a.createElement("h3",null,"Upload one MCF file or one set of TMCF+CSV files to preview in Data Commons."),a.a.createElement("div",null,a.a.createElement("input",{id:"file-select",onChange:function(e){t.setState({fileList:t.state.fileList.concat(Array.from(e.target.files))})},type:"file",name:"UploadFile",accept:".mcf,.tmcf,.csv",required:!0,multiple:!0}),a.a.createElement("button",{onClick:function(){return t.submitFileList()}},"Submit"))))),a.a.createElement("div",{className:"App"},a.a.createElement(fe,null),e)}}]),n}(r.Component);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(me,null)),document.getElementById("root"))},8:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.e42bae49.chunk.js.map